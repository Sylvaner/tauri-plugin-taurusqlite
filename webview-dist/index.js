var t=Object.defineProperty;function e(t,e=!1){let n=window.crypto.getRandomValues(new Uint32Array(1))[0],r=`_${n}`;return Object.defineProperty(window,r,{value:n=>(e&&Reflect.deleteProperty(window,r),null==t?void 0:t(n)),writable:!1,configurable:!0}),n}async function n(t,n={}){return new Promise(((r,o)=>{let i=e((t=>{r(t),Reflect.deleteProperty(window,`_${a}`)}),!0),a=e((t=>{o(t),Reflect.deleteProperty(window,`_${i}`)}),!0);window.__TAURI_IPC__({cmd:t,callback:i,error:a,...n})}))}function r(t,e="asset"){let n=encodeURIComponent(t);return navigator.userAgent.includes("Windows")?`https://${e}.localhost/${n}`:`${e}://localhost/${n}`}((e,n)=>{for(var r in n)t(e,r,{get:n[r],enumerable:!0})})({},{convertFileSrc:()=>r,invoke:()=>n,transformCallback:()=>e});var o=function(){function t(t){this.path="",this.path=t}return t.prototype.connect=function(t){return void 0===t&&(t={}),n("plugin:taurusqlite|open",{dbPath:this.path,options:t})},t.load=function(e){return new Promise((function(r,o){var i=new t("");void 0===e&&(e={}),n("plugin:taurusqlite|load",{options:e}).then((function(t){i.path=t,r(i)})).catch(o)}))},t.open=function(e,n){return new Promise((function(r,o){var i=new t(e);i.connect(n).then((function(t){t?r(i):o("Unable to open database ".concat(e,"."))})).catch(o)}))},t.prototype.setPragma=function(t,e){return n("plugin:taurusqlite|set_pragma",{dbPath:this.path,key:t,value:e})},t.prototype.select=function(t,e){return void 0===e&&(e=[]),n("plugin:taurusqlite|select",{dbPath:this.path,query:t,params:e})},t.prototype.selectFirst=function(t,e){var r=this;return new Promise((function(o,i){n("plugin:taurusqlite|select",{dbPath:r.path,query:t,params:e}).then((function(t){t.length>0?o(t[0]):i(new Error("No results"))})).catch(i)}))},t.prototype.execute=function(t,e){return void 0===e&&(e=[]),n("plugin:taurusqlite|execute",{dbPath:this.path,query:t,params:e})},t.prototype.batch=function(t){return n("plugin:taurusqlite|batch",{dbPath:this.path,queries:t})},t}();export{o as Taurusqlite};
